class customSelect{constructor(e){this.selector=e.selector,this.selectAll=document.querySelectorAll(this.selector)}init(){this.renderTemplate(),this.clickEventOut()}reinit(e){let t=e.parentNode;t.querySelector(".select-styled")&&(t.querySelector(".select-styled").remove(),t.querySelector(".select-list").remove()),this.renderOption(t)}renderOption(e){var t=this,c=e.querySelector("select"),l=c.getAttribute("placeholder");const s=document.createElement("div");s.classList.add("select-styled"),s.innerHTML="<span>"+l+"</span>";const n=document.createElement("ul");n.classList.add("select-options");const i=document.createElement("div");i.classList.add("select-list"),i.appendChild(n),e.appendChild(s),e.appendChild(i),e.querySelectorAll("select > option").forEach(function(e,c){const i=document.createElement("li");i.innerHTML=e.innerText,i.setAttribute("rel",e.value),0!=c||l||(s.innerHTML="<span>"+e.innerText+"</span>"),e.getAttribute("selected")&&(l?(s.innerHTML='<span class="af-selected-placeholder" data-af-placeholder="'+l+'">'+e.innerText+"</span>",i.classList.add("active")):(s.innerHTML="<span>"+e.innerText+"</span>",i.classList.add("active"))),n.appendChild(i),t.clickEventListItem(i)}),c.afSelect=new Object,c.afSelect.open=function(){t.openSelect(e)},c.afSelect.close=function(){t.closeSelect()},c.afSelect.update=function(){t.reinit(c)}}renderTemplate(){const e=this;this.selectAll.forEach(function(t,c){if(!t.classList.contains("select-hidden")){t.classList.add("select-hidden");const c=document.createElement("div");c.classList.add("af-select"),c.innerHTML=t.outerHTML,t.parentNode.replaceChild(c,t),e.clickEventOpenSelect(c)}}),document.querySelectorAll(".af-select").forEach(function(t,c){e.renderOption(t)})}openSelect(e){e.style.maxWidth=e.offsetWidth+"px",e.querySelector(".select-styled").classList.toggle("active"),e.querySelector(".select-options").classList.toggle("active"),e.querySelector(".select-list").classList.toggle("active"),document.querySelector("body").classList.toggle("af-select-open")}closeSelect(){if(!document.querySelector(".select-styled.active"))return!1;document.querySelector(".select-styled.active").classList.remove("active"),document.querySelector(".select-options.active").classList.remove("active"),document.querySelector(".select-list.active").classList.remove("active"),document.querySelector("body").classList.remove("af-select-open")}clickEventOut(){const e=this;document.addEventListener("click",function(){e.closeSelect()})}clickEventListItem(e){const t=e.parentNode.parentNode.parentNode,c=this,l=t.querySelector("select").getAttribute("placeholder"),s=t.querySelector(".select-styled");e.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),t.querySelector(".select-options li.active")&&t.querySelector(".select-options li.active").classList.remove("active"),this.classList.add("active"),l?s.innerHTML='<span class="af-selected-placeholder" data-af-placeholder="'+l+'">'+this.innerHTML+"</span>":t.querySelector(".select-styled span").innerHTML=this.innerHTML,t.querySelector("select").value=this.getAttribute("rel"),e=new Event("change"),t.querySelector("select").dispatchEvent(e),c.closeSelect()})}clickEventOpenSelect(e){function t(e){e.stopPropagation(),e.preventDefault(),c.openSelect(this)}const c=this;e.removeEventListener("click",t),e.addEventListener("click",t)}}